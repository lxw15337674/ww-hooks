import{useRef as t,useState as n,useEffect as r,useMemo as e,useLayoutEffect as o}from"react";import i from"axios";import{debounce as u,throttle as c}from"lodash";function a(t,n){return n===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function l(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function f(t){for(var n=1;arguments.length>n;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){p(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function s(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
s=function(){return t};var t={},n=Object.prototype,r=n.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",i=e.asyncIterator||"@@asyncIterator",u=e.toStringTag||"@@toStringTag";function c(t,n,r){return Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{c({},"")}catch(t){c=function(t,n,r){return t[n]=r}}function a(t,n,r,e){var o=Object.create((n&&n.prototype instanceof v?n:v).prototype),i=new L(e||[]);return o._invoke=function(t,n,r){var e="suspendedStart";return function(o,i){if("executing"===e)throw Error("Generator is already running");if("completed"===e){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=x(u,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===e)throw e="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e="executing";var a=l(t,n,r);if("normal"===a.type){if(e=r.done?"completed":"suspendedYield",a.arg===f)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(e="completed",r.method="throw",r.arg=a.arg)}}}(t,r,i),o}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var f={};function v(){}function d(){}function h(){}var p={};c(p,o,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(S([])));m&&m!==n&&r.call(m,o)&&(p=m);var g=h.prototype=v.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(n){c(t,n,(function(t){return this._invoke(n,t)}))}))}function w(t,n){function e(o,i,u,c){var a=l(t[o],t,i);if("throw"!==a.type){var f=a.arg,s=f.value;return s&&"object"==typeof s&&r.call(s,"__await")?n.resolve(s.__await).then((function(t){e("next",t,u,c)}),(function(t){e("throw",t,u,c)})):n.resolve(s).then((function(t){f.value=t,u(f)}),(function(t){return e("throw",t,u,c)}))}c(a.arg)}var o;this._invoke=function(t,r){function i(){return new n((function(n,o){e(t,r,n,o)}))}return o=o?o.then(i,i):i()}}function x(t,n){var r=t.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=void 0,x(t,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var e=l(r,t.iterator,n.arg);if("throw"===e.type)return n.method="throw",n.arg=e.arg,n.delegate=null,f;var o=e.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function O(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function E(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,i=function n(){for(;++e<t.length;)if(r.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=void 0,n.done=!0,n};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,c(g,"constructor",h),c(h,"constructor",d),d.displayName=c(h,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===d||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(n,r,e,o,i){void 0===i&&(i=Promise);var u=new w(a(n,r,e,o),i);return t.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},b(g),c(g,u,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},t.values=S,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(r,e){return u.type="throw",u.arg=t,n.next=r,e&&(n.method="next",n.arg=void 0),!!e}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return e("end");if(this.prev>=i.tryLoc){var c=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(c&&a){if(i.catchLoc>this.prev)return e(i.catchLoc,!0);if(i.finallyLoc>this.prev)return e(i.finallyLoc)}else if(c){if(i.catchLoc>this.prev)return e(i.catchLoc,!0)}else{if(!a)throw Error("try statement without catch or finally");if(i.finallyLoc>this.prev)return e(i.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(this.prev>=o.tryLoc&&r.call(o,"finallyLoc")&&o.finallyLoc>this.prev){var i=o;break}}i&&("break"===t||"continue"===t)&&n>=i.tryLoc&&i.finallyLoc>=n&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=n,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),f},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),f}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var o=e.arg;E(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:S(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function d(t,n,r,e,o,i,u){try{var c=t[i](u),a=c.value}catch(t){return void r(t)}c.done?n(a):Promise.resolve(a).then(e,o)}function h(t){return function(){var n=this,r=arguments;return new Promise((function(e,o){var i=t.apply(n,r);function u(t){d(i,e,o,u,c,"next",t)}function c(t){d(i,e,o,u,c,"throw",t)}u(void 0)}))}}function p(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function y(t,n){if(null==t)return{};var r,e,o=function(t,n){if(null==t)return{};var r,e,o={},i=Object.keys(t);for(e=0;i.length>e;e++)0>n.indexOf(r=i[e])&&(o[r]=t[r]);return o}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(e=0;i.length>e;e++)0>n.indexOf(r=i[e])&&Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function m(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var e,o,i=[],u=!0,c=!1;try{for(r=r.call(t);!(u=(e=r.next()).done)&&(i.push(e.value),!n||i.length!==n);u=!0);}catch(t){c=!0,o=t}finally{try{u||null==r.return||r.return()}finally{if(c)throw o}}return i}(t,n)||b(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,n){if(t){if("string"==typeof t)return w(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,n):void 0}}function w(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=Array(n);n>r;r++)e[r]=t[r];return e}function x(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=b(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,o=function(){};return{s:o,n:function(){return t.length>e?{done:!1,value:t[e++]}:{done:!0}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw i}}}}var O=function(t,n){return"function"!=typeof t?t:t(n)};function E(t){return"number"==typeof t}function L(t){return"[object Object]"===Object.prototype.toString.call(t)}function S(t,n){if(!L(t)||!L(n))return t===n;if(t===n)return!0;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))if(!S(t[r],n[r]))return!1}return!0}function j(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;n>e;e++)r[e-1]=arguments[e];return function(){for(var n=arguments.length,e=Array(n),o=0;n>o;o++)e[o]=arguments[o];var i=r.map((function(t,n){return Array.isArray(t)?e[n]:L(t)?f(f({},t),e[n]):e[n]}));return t.apply(void 0,g(i))}}var P=["debounceInterval","manual","onSuccess","onError","initialData","throttleInterval","loadingDelay","defaultParams"],A=i.create(),T=function(n){var r=n.debounceInterval,e=n.manual,o=n.onSuccess,u=n.onError,c=n.initialData,a=n.throttleInterval,l=n.loadingDelay,s=n.defaultParams,v=y(n,P),d=t(),h=M((function(t){var n=f(f({cancelToken:new i.CancelToken((function(t){d.current=t}))},v),t);return A.request(n).then((function(t){return t.data}))})),p=R(h,{debounceInterval:r,manual:e,onSuccess:o,onError:u,initialData:c,throttleInterval:a,loadingDelay:l,defaultParams:s}),m=M((function(){var t;null===(t=d.current)||void 0===t||t.call(d),null==p||p.cancel()}));return _((function(){m()})),p},I=["manual","data"],k=function(t){var r=t.manual,e=void 0===r||r,o=t.data,i=y(t,I),u=m(n(o),2),c=u[0],a=u[1],l=f({data:c,method:"post"},i),s=T(l),v=M((function(t){var n=O(t,c);return a(t),s.run({data:n})})),d=M((function(){return v(c)}));return it((function(){!1===e&&s.reload()})),f(f({},s),{},{run:v,reload:d,params:c,setParams:a})},_=function(t){r((function(){return t}),[])};function D(n,r,o){var i=t(n);i.current=n;var c=e((function(){return u(i.current,null!=r?r:1e3,o)}),[r,i,o]);return _((function(){c.cancel()})),{run:c,cancel:c.cancel,flush:c.flush}}function N(n,r,o){var i=t(n);i.current=n;var u=e((function(){return c(i.current,null!=r?r:1e3,o)}),[r,i,o]);return _((function(){u.cancel()})),{run:u,cancel:u.cancel,flush:u.flush}}var R=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.debounceInterval,i=void 0===o?null:o,u=r.manual,c=void 0===u||u,a=r.onSuccess,l=void 0===a?function(){}:a,f=r.onError,s=void 0===f?function(){}:f,v=r.initialData,d=void 0===v?null:v,h=r.throttleInterval,p=void 0===h?null:h,y=r.loadingDelay,b=void 0===y?300:y,w=r.defaultParams,x=void 0===w?[]:w,O=ut(),L=n(d),S=m(L,2),j=S[0],P=S[1],A=n(),T=m(A,2),I=T[0],k=T[1],R=n("success"),H=m(R,2),G=H[0],W=H[1],z=n(x),C=m(z,2),U=C[0],F=C[1],Y=yt((function(){W("loading")}),b),q=M((function(){for(var n=arguments.length,r=Array(n),e=0;n>e;e++)r[e]=arguments[e];return Y.run(),k(void 0),F(r),t.apply(void 0,r).then((function(t){return O()&&P(t),null==l||l(t,r),W("success"),t})).catch((function(t){return O()&&k(t),null==s||s(t,r),W("error"),Promise.reject(t)})).finally((function(){Y.cancel()}))})),B=D(q,i),J=N(q,p),V=M((function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];var e=n;return Array.isArray(n)||(e=[]),E(i)?(console.log("debounce"),B.run.apply(B,g(e)),Promise.resolve(null)):E(p)?(J.run.apply(J,g(e)),Promise.resolve(null)):q.apply(void 0,g(e))})),$=M((function(){return Array.isArray(U)?V.apply(void 0,g(U)):V()})),K=M((function(){null==B||B.cancel(),null==J||J.cancel()})),Q=e((function(){return(null==B?void 0:B.flush)?B.flush:(null==J?void 0:J.flush)?J.flush:function(){return Promise.resolve(null)}}),[B,J]);return it((function(){!1===c&&$()})),_((function(){K()})),{data:j,params:U,error:I,reload:$,isLoading:"loading"===G,isError:"error"===G,isSuccess:"success"===G,status:G,run:V,cancel:K,mutate:P,flush:Q}},H=["deps","pollingInterval","manual","concurrent","params"],G=function(r){var e=r.deps,o=void 0===e?[]:e,i=r.pollingInterval,u=void 0===i?0:i,c=r.manual,a=void 0===c||c,l=r.concurrent,s=void 0!==l&&l,v=r.params,d=y(r,H),h=t(),p=m(n(v),2),b=p[0],w=p[1],x=T(d),E=M((function(){x.cancel(),clearTimeout(h.current)})),L=M((function(t){h.current&&clearTimeout(h.current),s||E();var n=O(t,b);w(n);var r={params:n};return u?x.run(r).finally((function(){h.current=setTimeout((function(){h.current&&L(n)}),u)})):x.run(r)})),S=M((function(){return L(b)}));return mt((function(){S()}),g(o)),it((function(){!1===a&&S()})),_((function(){clearTimeout(h.current)})),f(f({},x),{},{run:L,reload:S,cancel:E,params:b,setParams:w})},M=function(n){var r=t();r.current=e((function(){return n}),[n]);var o=t((function(){return r.current.apply(r,arguments)}));return o.current},W=function(t){var r=m(n(t),2),o=r[0],i=r[1],u=e((function(){return!S(t,o)}),[t,o]),c=e((function(){return{set:function(t,n){i((function(r){var e=g(r);return e[t]=O(n,e[t]),e}))},setAll:i,remove:function(t){i((function(n){var r=g(n);return r.splice(t,1),r}))},push:function(t){i((function(n){var r=g(n);return r.push(t),r}))},clear:function(){i([])},reset:function(){i(t)}}}),[t]),a=M((function(t,n){var r=o.length-1;(t>r||n>r)&&console.error("交换位置超出最大位置");var e=g(o),u=[e[n],e[t]];e[t]=u[0],e[n]=u[1],i(e)})),l=M((function(t,n){var r=o.length-1;(t>r||n>r)&&console.error("交换位置超出最大位置");var e=g(o),u=m(e.splice(t,1),1);return e.splice(n,0,u[0]),i(e),e}));return[o,f(f({isEdited:u,swap:a,reorder:l},c),{},{setAll:i})]};function z(t,r){var e=m(n(t),2),o=e[1];return[e[0],M((function(n){o(void 0!==n?n:function(n){return n===t?r:t})}))]}function C(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=z(t,!t);return n}var U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=at(0),i=m(o,2),u=i[0],c=i[1],a=e((function(){return f(f({},{delay:250,exclusive:!1}),r)}),[r]),l=a.delay,s=a.exclusive,v=yt((function(){c.reset()}),l),d=v.run,h=M((function(r){0===u&&(null==t||t(r),d()),1===u&&(s||null==t||t(r),null==n||n(r)),c.plus(1)}));return h};function F(t,n){if(isNaN(t)&&(t=0),0===n.length)return 0;for(var r,e,o,i=0,u=n.length-1;u>=i;){if(o=n[r=Math.floor((i+u)/2)],0===r&&n[0]>=t)return 0;if((e=n[r-1]||0)>t)u=r-1;else{if(e===t)return r-1;if(t>=e&&o>=t)return r;t>o&&(i=r+1)}}return n.length}function Y(t,n){return t?"function"==typeof t?t():"current"in t?t.current:t:n}function q(t){if(t&&t.addEventListener){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;n>e;e++)r[e-1]=arguments[e];t.addEventListener.apply(t,r)}}function B(t){if(t&&t.removeEventListener){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;n>e;e++)r[e-1]=arguments[e];t.removeEventListener.apply(t,r)}}function J(n,e,o){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=t();u.current=o,r((function(){var t=Y(n,window);if(null==t?void 0:t.addEventListener){var r=function(t){return u.current&&u.current(t)};return t.addEventListener(e,r,{capture:i.capture,once:i.once,passive:i.passive}),function(){t.removeEventListener(e,r,{capture:i.capture})}}}),[e,i])}function V(t){var r=m(n({left:0,top:0}),2),e=r[0],o=r[1];return J(t,"scroll",(function(t){var n=t.target;o({left:n.scrollLeft,top:n.scrollTop})})),e}function $(t){var r=m(n({width:0,height:0}),2),e=r[0],o=r[1];return ht(t,(function(t){o({width:t.target.offsetWidth,height:t.target.offsetHeight})})),e}var K=function(t,r){var i=r.containerRef,u=r.itemHeight,c=r.overscan,a=void 0===c?3:c,l=$(i).height,f=V(i).top,s=m(n({start:0,end:0}),2),v=s[0],d=s[1],h=m(n({upOffset:0,downOffset:0}),2),p=h[0],y=h[1],b=m(n([]),2),w=b[0],x=b[1],O=e((function(){return(null!=t?t:[]).map((function(t,n){return u(t,n)}))}),[u,t]),E=e((function(){return O.reduce((function(t,n){return t.push(t[t.length-1]+n),t}),[0])}),[O]),L=e((function(){return E[v.start]}),[E,v.start]),S=M((function(){if(f>Math.max(p.downOffset-l,0)||p.upOffset>=f){var t=function(t,n,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=F(t,r)-e,i=F(n+t,r)+e;return{start:o=Math.max(0,o),end:i=Math.min(i,r.length)}}(f,l,E,a);d(t),y(function(t,n){var r=t.start,e=t.end,o=0;return r-1>0&&(o=n[r-1]),{upOffset:o,downOffset:n.length>e+1?n[e]:n[n.length-1]}}(t,E))}}));o((function(){S()}),[f,l]),o((function(){var n,r=t.slice(v.start,v.end).map((function(t,n){return{data:t,index:n+v.start}})),e=null!==(n=null==w?void 0:w.length)&&void 0!==n?n:0-(null==r?void 0:r.length),o=r.map((function(t,n){return{data:t.data,index:t.index,id:n,style:{}}})),i=[];e>0&&(i=w.slice(r.length,w.length).map((function(t,n){return{data:t.data,id:n+r.length,index:-1,style:{transform:"translateY(-99999px)"}}}))),x([].concat(g(o),g(i)))}),[t,v]);var j=e((function(){return O.reduce((function(t,n){return t+n}),0)-L}),[O,L]),P=M((function(t){var n=i.current;n&&(n.scrollTop=E[t])}));return{list:w,wrapperStyle:{marginTop:L,height:j},scrollTo:P}},Q=function(t){window.location.replace("#"+encodeURIComponent(t))},X=function(t){var e=n((function(){var n=window.location.hash.substring(1);return""===n?(Q(t),t):n})),o=m(e,2),i=o[0],u=o[1];r((function(){null==i?history.pushState("",document.title,window.location.pathname+window.location.search):Q(i)}),[i]);var c=M((function(){u(t)}));return[i,u,c]};function Z(t,n,r){o((function(){var e=Y(t);if(e){var o=new IntersectionObserver((function(t){var r,e=x(t);try{for(e.s();!(r=e.n()).done;){n(r.value)}}catch(t){e.e(t)}finally{e.f()}}),r);return o.observe(e),function(){o.disconnect()}}}),[t])}function tt(r,e){var o=t(null),i=m(n(!1),2),u=i[0],c=i[1],a=M((function(){r(),o.current=setTimeout(a,e)})),l=M((function(){clearTimeout(o.current),c(!1)})),f=M((function(){u||(setTimeout(a,e),c(!0))}));return _((function(){l()})),{start:f,clear:l,looping:u}}function nt(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeOldValue:!0},u=n(!0),c=m(u,2),a=c[0],l=c[1],f=t();return r((function(){if(a){var t=Y(e);if(!t)return;f.current=new MutationObserver(o),f.current.observe(t,i)}else{var n;null===(n=f.current)||void 0===n||n.disconnect(),f.current=void 0}return function(){var t;null===(t=f.current)||void 0===t||t.disconnect(),f.current=void 0}}),[a]),[a,l]}var rt=function(t){var r=m(n({x:!1,y:!1}),2),e=r[0],o=r[1];return nt(t,(function(){var n=Y(t);n&&o({x:n.scrollWidth!==n.clientWidth,y:n.scrollHeight!==n.clientHeight})})),e},et="hidden";function ot(t){var n=m(C(!1),2),e=n[0],o=n[1];return r((function(){var n=(t=t||document.body).style,r=n.paddingRight,o=n.overflow,i=t.getBoundingClientRect();return e&&(t.style.width="".concat(i.width,"px"),t.style.overflowY=et),function(){t.style.overflow=o,t.style.width=r}}),[e,t]),[o,e]}var it=function(t){r((function(){t()}),[])};function ut(){var n=t(!1);return r((function(){return n.current=!0,function(){n.current=!1}}),[]),M((function(){return n.current}))}function ct(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.min,e=n.max,o=t;return"number"==typeof e&&(o=Math.min(e,o)),"number"==typeof r&&(o=Math.max(r,o)),o}var at=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,e=n(ct(t,r)),o=m(e,2),i=o[0],u=o[1],c=M((function(t){var n="number"==typeof t?t:t(i);u(ct(n,r))})),a=M((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;c((function(n){return n+t}))})),l=M((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;c((function(n){return n-t}))})),f=M((function(){c(t)}));return[i,{set:c,reset:f,plus:a,minus:l}]};function lt(t){var r=m(n(t),2),o=r[0],i=r[1],u=M((function(){i(t)})),c=e((function(){return!S(o,t)}),[o,t]),a=M((function(t){i((function(n){var r=O(t,n);return f(f({},n),r)}))}));return[o,{setAll:i,set:a,reset:u,isEdited:c}]}function ft(n){var r=t(),e=t();return r.current=e.current,e.current=n,r.current}var st=function(){var t=m(n({}),2)[1];return M((function(){t({})}))};var vt=function t(n,r){var e=new Proxy(n,{get:function(n,e,o){var i=Reflect.get(n,e,o);return function(t){return"object"===v(t)&&null!==t}(i)?t(i,r):Reflect.get(n,e)},set:function(t,n,e){var o=Reflect.set(t,n,e);return r(t),o},deleteProperty:function(t,n){var e=Reflect.deleteProperty(t,n);return r(e),e}});return e},dt=function(t){var n=st();return e((function(){return vt("function"!=typeof(r=t)?r:r(),(function(){n()}));var r}),[])};function ht(t,n){o((function(){var r=Y(t);if(r){var e=new ResizeObserver((function(t){t.forEach((function(t){n(t)}))}));return e.observe(r),function(){e.disconnect()}}}),[t])}function pt(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"left",o=t(0),i=M((function(t){if(t=t[0],o.current>0)o.current-=1;else{var r=n.filter((function(n){return n.current!==t.target}));if(o.current=r.length,console.log(e),"left"===e||"both"===e){var i,u=t.target.scrollLeft,c=x(r);try{for(c.s();!(i=c.n()).done;){i.value.current.scrollLeft=u}}catch(t){c.e(t)}finally{c.f()}}if("top"===e||"both"===e){var a,l=t.target.scrollTop,f=x(r);try{for(f.s();!(a=f.n()).done;){var s=a.value;s.current&&(s.current.scrollTop=l)}}catch(t){f.e(t)}finally{f.f()}}}}));r((function(){var t,r=x(n);try{for(r.s();!(t=r.n()).done;){var e,o,u=t.value;if(u.current)null===(e=u.current)||void 0===e||null===(o=e.addEventListener)||void 0===o||o.call(e,"scroll",i)}}catch(t){r.e(t)}finally{r.f()}return function(){var t,r=x(n);try{for(r.s();!(t=r.n()).done;){var e,o,u=t.value;if(u.current)null===(e=u.current)||void 0===e||null===(o=e.removeEventListener)||void 0===o||o.call(e,"scroll",i)}}catch(t){r.e(t)}finally{r.f()}}}),[])}function yt(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t(null),u=n(!1),c=m(u,2),a=c[0],l=c[1],f=M((function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];clearTimeout(i.current),null!=o&&(l(!0),i.current=setTimeout((function(){e.apply(void 0,n),l(!1)}),o))}));r((function(){return function(){clearTimeout(i.current)}}),[]);var s=M((function(){clearTimeout(i.current),l(!1)}));return{waiting:a,run:f,cancel:s}}function mt(t,e){var o=m(n(!1),2),i=o[0],u=o[1],c=ft(e);r((function(){i?t(e,c):u(!0)}),e)}var gt=function(t,r){var o=m(n((function(){var n=null!==t?t:location.search;return new URLSearchParams(n)})),2),i=o[0],u=o[1],c=e((function(){return{set:function(t,n){u((function(r){var e=new URLSearchParams(r),o=r.get(t),i=O(n,o);return void 0===i?e.delete(t):e.set(t,i),e}))},clear:function(){u(new URLSearchParams)}}}),[i,u]);return mt((function(){var t="".concat(r,"State"),n=""+i;n?history[t](null,"","?"+n):history[t]({},document.title,window.location.pathname)}),[i]),[i,c]};function bt(t){var r=m(n((function(){return function(t){if(t){var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=t.getBoundingClientRect();return!!e&&e.bottom>0&&r>=e.top&&n>=e.left&&e.right>0}}(Y(t))})),2),e=r[0],o=r[1];return Z(t,(function(t){o(t.isIntersecting)})),e}function wt(t,n){var r,e=t,o={},i=x(n);try{var u=function(){var t=r.value,n=e[0][t],i=e.reduce((function(r,e){if(e[t]===n){var o=r.length-1;r[o]=r[o]+1}else r.push(1),n=e[t];return r}),[0]);o[t]=function(t){return t.reduce((function(t,n){var r=Array(n).fill(0);return r[0]=n,t.push.apply(t,g(r)),t}),[])}(i)};for(i.s();!(r=i.n()).done;)u()}catch(t){i.e(t)}finally{i.f()}return o}var xt=["click"],Ot=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt,o=M((function(r){var e=Y(t);e&&!e.contains(r.target)&&n(r)}));r((function(){var t,n=x(e);try{for(n.s();!(t=n.n()).done;){q(document,t.value,o)}}catch(t){n.e(t)}finally{n.f()}return function(){var t,n=x(e);try{for(n.s();!(t=n.n()).done;){B(document,t.value,o)}}catch(t){n.e(t)}finally{n.f()}}}),[t,e])};function Et(t,r,e){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sessionStorage,i=function(t){return(null==e?void 0:e.serializer)?null==e?void 0:e.serializer(t):JSON.stringify(t)},u=function(t){return(null==e?void 0:e.deserializer)?null==e?void 0:e.deserializer(t):JSON.parse(t)},c=M((function(){try{var n=o.getItem(t);if(null!==n)return u(n)}catch(t){console.error(t)}return r})),a=n((function(){return c()})),l=m(a,2),f=l[0],s=l[1],v=M((function(n){try{var r=O(n,f);s(r),void 0===r?o.removeItem(t):o.setItem(t,i(r))}catch(t){console.error(t)}}));return[f,v]}function Lt(t,n,r){return Et(t,n,r,localStorage)}function St(t,n,r){return Et(t,n,r)}function jt(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.title,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n(e),u=m(i,2),c=u[0],a=u[1],l=n(document.title),f=m(l,1),s=f[0];return r((function(){console.log(c),document.title=c}),[c]),it((function(){a(e)})),nt(null===(t=document.head)||void 0===t?void 0:t.querySelector("title"),(function(){a(document.title)}),{childList:!0}),_((function(){o&&(document.title=s)})),[c,a]}var Pt=function(t,n){var r=n||{},e=r.onEnter,o=r.onLeave,i=m(C(!1),2),u=i[0],c=i[1];return J(t,"mouseenter",(function(){null==e||e(),c()})),J(t,"mouseleave",(function(){null==o||o(),c()})),u},At=function(){var t=m(n({x:!1,y:!1}),2),r=t[0],e=t[1];return J(window,"resize",(function(){e({x:document.body.scrollHeight>window.innerHeight,y:document.body.scrollWidth>window.innerWidth})})),r};function Tt(){return It.apply(this,arguments)}function It(){return(It=h(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,t.prev=1,t.next=4,navigator.permissions.query({name:"clipboard-read"});case 4:if("denied"!==t.sent.state){t.next=7;break}throw Error("Not allowed to read clipboard.");case 7:return t.abrupt("return",!0);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0.message);case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}var kt=function(){var t=h(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tt();case 2:if(!t.sent){t.next=7;break}return t.next=5,navigator.clipboard.readText();case 5:return t.abrupt("return",t.sent);case 7:return t.abrupt("return","");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function _t(){var t=m(n(""),2),r=t[0],e=t[1],o=M(h(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,kt();case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)}))));it((function(){o()})),J(document,"copy",h(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o();case 1:case"end":return t.stop()}}),t)})))),J(document,"cut",h(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o();case 1:case"end":return t.stop()}}),t)}))));var i=M((function(t){Tt().then((function(){navigator.clipboard.writeText(O(t,r)).then((function(){e(t)}))}))}));return[r,i]}function Dt(t,r){var e=m(n(!1),2),o=e[0],i=e[1],u=ft(r);Dt((function(){o?t(r,u):i(!0)}),r)}export{a as isType,j as setDefaultArguments,wt as sortBy,W as useArray,T as useAxios,C as useBoolean,U as useClick,Ot as useClickAway,_t as useClipboardText,D as useDebounceFn,K as useDynamicList,rt as useElementIsScroll,J as useEventListener,X as useHash,Pt as useHover,Z as useIntersectionObserver,tt as useIntervalFn,Lt as useLocalStorage,ot as useLockScroll,it as useMount,ut as useMountedState,k as useMutation,nt as useMutationObserver,at as useNumber,lt as useObject,M as usePersistFn,ft as usePrevious,R as usePromise,G as useQuery,dt as useReactive,ht as useResizeObserver,V as useScroll,St as useSessionStorage,$ as useSize,pt as useSyncScroll,N as useThrottleFn,yt as useTimeoutFn,jt as useTitle,z as useToggle,_ as useUnmount,st as useUpdate,mt as useUpdateEffect,Dt as useUpdateLayoutEffect,gt as useUrlState,bt as useVisible,At as useWindowIsScroll};
